{"version":3,"sources":["usm/datahandler.js","usm/authHandler.js","usm/userHandler.js","agent.js","components/Header.js","components/Article/ArticleActions.js","components/Article/ArticleMeta.js","usm/commentsHandler.js","components/Article/CommentInput.js","components/Article/DeleteButton.js","components/Article/Comment.js","components/Article/CommentList.js","components/Article/CommentContainer.js","components/RedError.js","components/LoadingSpinner.js","usm/articleHandler.js","components/Article/index.js","components/ListErrors.js","usm/editorHandler.js","components/Editor.js","components/Home/Banner.js","components/ArticlePreview.js","components/ListPagination.js","components/ArticleList.js","components/Home/MainView.js","components/Home/Tags.js","components/Home/index.js","components/Login.js","usm/profileHandler.js","components/Profile.js","components/Register.js","components/Settings.js","components/App.js","usm/state.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","appLoaded","token","loadTags","setToken","setAppName","setAppLoaded","_agent__WEBPACK_IMPORTED_MODULE_0__","xsm__WEBPACK_IMPORTED_MODULE_1__","appName","window","localStorage","getItem","agent","Tags","getAll","then","tags","alltags","map","t","toLowerCase","set","finally","removeItem","undefined","setUsername","setEmail","setPassword","reset","login","register","logout","_userHandler__WEBPACK_IMPORTED_MODULE_1__","_datahandler__WEBPACK_IMPORTED_MODULE_2__","xsm__WEBPACK_IMPORTED_MODULE_3__","errors","values","username","email","password","Auth","_ref","user","dh","userHandler","catch","err","response","body","_ref2","Promise","resolve","pullUser","updateUser","forgetUser","currentUser","current","newUser","save","global","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","n","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","_usm_datahandler__WEBPACK_IMPORTED_MODULE_2__","_usm_authHandler__WEBPACK_IMPORTED_MODULE_3__","superagent","superagentPromise","_superagent","API_ROOT","encode","encodeURIComponent","handleErrors","status","responseBody","res","tokenPlugin","req","concat","requests","url","del","use","end","get","put","post","limit","count","p","omitSlug","article","Object","assign","slug","Articles","all","page","lim","arguments","length","byAuthor","author","query","byTag","tag","favorite","favoritedBy","feed","unfavorite","update","create","Comments","comment","delete","commentId","forArticle","Profile","follow","unfollow","LoggedOutView","props","react_default","a","createElement","className","react_router_dom","to","LoggedInView","src","image","alt","Header","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","bindState","assertThisInitialized","Header_LoggedOutView","Header_LoggedInView","React","Component","ArticleActions","canModify","onClick","onDelete","ArticleMeta","Date","createdAt","toDateString","Article_ArticleActions","commentErrors","articleSlug","comments","loadComments","CommentInput","state","handleBodyChange","ev","setState","target","value","createComment","preventDefault","isCreatingComment","onSubmit","placeholder","disabled","onChange","rows","type","DeleteButton","show","Comment","Article_DeleteButton","id","CommentList","Article_Comment","key","CommentContainer","CommentInput_CommentInput","Article_CommentList","wrapperStyle","display","justifyContent","errorStyle","margin","borderRadius","padding","color","fontWeight","backgroundColor","RedError","style","message","width","height","position","borderTop","borderRight","borderBottom","borderLeft","transform","animation","LoadingSpinner","LIMIT","totalPagesCount","articlesRegistry","Map","predicate","getArticle","val","setPage","pg","setPredicate","mypredicate","JSON","stringify","clear","loadArticles","myFeed","articles","articlesCount","forEach","Math","ceil","loadArticle","_ref2$acceptCached","acceptCached","isArticleLoading","_ref3","makeFavorite","favorited","favoritesCount","unmakeFavorite","createArticle","_ref4","updateArticle","data","_ref5","deleteArticle","Article","withRouter","handleDeleteArticle","ah","history","replace","handleDeleteComment","idx","findIndex","c","splice","ch","aSlug","match","params","LoadingSpinner_LoadingSpinner","RedError_RedError","markup","__html","marked","sanitize","title","Article_ArticleMeta","dangerouslySetInnerHTML","tagList","Article_CommentContainer","ListErrors","keys","setArticleSlug","loadInitialData","articlesHandler","Error","description","Editor","changeTitle","e","changeDescription","changeBody","changeTagInput","tagInput","handleTagInputKeyDown","keyCode","handleAddTag","trim","includes","push","handleRemoveTag","inProgressRemoveTag","filter","eh","submitForm","prevProps","_this2","editorErrors","components_ListErrors","onBlur","onKeyDown","Banner","ArticlePreview","handleClickFavorite","_this$props","favoriteButtonClass","ListPagination","range","i","v","isCurrent","currentPage","onSetPage","toString","href","ArticleList","loading","ArticlePreview_ArticlePreview","components_ListPagination","YourFeedTab","isActive","location","search","pathname","GlobalFeedTab","TagFilterTab","MainView","handleTabChange","tab","router","objectSpread","handleSetPage","getPredicate","previousProps","getTab","getTag","qsParse","isLoading","MainView_YourFeedTab","MainView_GlobalFeedTab","MainView_TagFilterTab","components_ArticleList","Home","Home_Banner","MainView_MainView","Home_Tags","Login","handleEmailChange","handlePasswordChange","handleSubmitForm","lerrors","linProgress","profile","isLoadingProfile","loadProfile","pf","EditProfileSettings","isUser","FollowUserButton","classes","following","console","log","handleFollow","setcfg","trace","handleUnfollow","ph","test","isArticlesLoading","bio","Profile_EditProfileSettings","Profile_FollowUserButton","renderTabs","Register","handleUsernameChange","rerrors","rinProgress","SettingsForm","updateState","field","newState","defineProperty","onSubmitForm","updatingUser","Settings","handleClickLogout","updatingUserErrors","Settings_SettingsForm","uh","App","components_Header","react_router","path","component","_Login","_Register","_Profile","_Article","_Settings","_SettingsForm","_MainView","_CommentInput","PrivateRoute","framework","debug","bindings","promiseFinally","shim","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.8064f4c7.chunk.js","sourcesContent":["import agent from '../agent';\nimport {set} from 'xsm';\n\n\n  export let appLoaded = false;\n  let appName = 'Conduit';\n  export let token = window.localStorage.getItem('jwt');\n  if (!token) \n    window.localStorage.removeItem('jwt');\n\n  export function loadTags() {\n    return agent.Tags.getAll()\n      .then(( tags ) => { \n          const alltags = tags.tags.map(t => t.toLowerCase()); \n          set('tags', alltags);\n          return alltags;\n      })\n      .finally(() => { //isLoadingTags = false; \n      });\n  }\n\n  export function setToken() {\n    set('token', token);\n    if (!token) {\n      window.localStorage.removeItem('jwt');\n      token = undefined;\n    }\n  }\n\n  export function setAppName() {\n    set('appName', appName);\n  }\n\n  export function setAppLoaded() {\n    appLoaded = true;\n    set('appLoaded', appLoaded);\n  }\n\n\n","import agent from '../agent';\r\nimport * as userHandler from './userHandler';\r\nimport * as dh from './datahandler';\r\nimport {set} from 'xsm';\r\n\r\n  let inProgress = false;\r\n  let errors = undefined;\r\n\r\n  let values = {\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n  };\r\n\r\n  export function setUsername(username) {\r\n    values.username = username;\r\n    set('currentUser', values);\r\n  }\r\n\r\n  export function setEmail(email) {\r\n    values.email = email;\r\n    set('currentUser', values);\r\n  }\r\n\r\n  export function setPassword(password) {\r\n    values.password = password;\r\n    set('currentUser', values);\r\n  }\r\n\r\n  export function reset() {\r\n    values.username = '';\r\n    values.email = '';\r\n    values.password = '';\r\n    set('currentUser', values);\r\n  }\r\n\r\n  export function login() {\r\n    inProgress = true;\r\n    errors = undefined;\r\n    return agent.Auth.login(values.email, values.password)\r\n      .then(({ user }) => {\r\n        dh.setToken(user.token)\r\n        set('currentUser', user)\r\n      })\r\n      .then(() => userHandler.pullUser())\r\n      .catch((err) => {\r\n        errors = err.response && err.response.body && err.response.body.errors;\r\n        set('lerrors', errors);\r\n        throw err;\r\n      })\r\n      .finally(() => { inProgress = false; });\r\n  }\r\n\r\n  export function register() {\r\n    inProgress = true;\r\n    errors = undefined;\r\n    return agent.Auth.register(values.username, values.email, values.password)\r\n      .then(({ user }) => {\r\n        dh.setToken(user.token)\r\n        set('currentUser', user)\r\n      })\r\n      .then(() => userHandler.pullUser())\r\n      .catch((err) => {\r\n        errors = err.response && err.response.body && err.response.body.errors;\r\n        set('rerrors', errors);\r\n        throw err;\r\n      })\r\n      .finally(() => { inProgress = false; });\r\n  }\r\n\r\n  export function logout() {\r\n    dh.setToken(undefined);\r\n    userHandler.forgetUser();\r\n    return Promise.resolve();\r\n  }\r\n\r\n\r\n","//{\"user\":{\"id\":54351,\"email\":\"usmstagemgmt@gmail.com\",\"createdAt\":\"2019-04-29T02:28:09.475Z\",\"updatedAt\":\"2019-04-29T02:28:09.483Z\",\"username\":\"usmstatemgmt\",\"bio\":null,\"image\":null,\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6NTQzNTEsInVzZXJuYW1lIjoidXNtc3RhdGVtZ210IiwiZXhwIjoxNTYxNjg4ODg5fQ.KyX9tsg1DfBc1NPmzhKw9YJC_9w6fruNCkTljpp38Fc\"}} pw: usmgmail.com\n/*\n \"Unified State Management - incredibly simple and performant\"\n createdAt\n :\n \"2019-04-29T02:36:25.067Z\"\n description\n :\n \"state management\"\n favorited\n :\n false\n favoritesCount\n :\n 0\n slug\n :\n \"usm-web-frontend-state-management-for-the-rest-of-us-nnvf40\"\n tagList\n :\n (4) [\"usm\", \"mobx\", \"redux\", \"state\"]\n title\n :\n \"USM Web Frontend State Management for the rest of us\"\n */\nimport agent from '../agent';\nimport {set} from 'xsm';\n\n\n  let currentUser;\n  let loadingUser;\n  let updatingUser;\n\n  export function pullUser() {\n    loadingUser = true;\n    return agent.Auth.current()\n      .then(({ user }) => { currentUser = user; \n          set('currentUser', currentUser); \n      })\n      .finally(() => { loadingUser = false; })\n  }\n\n  export function updateUser(newUser) {\n    updatingUser = true;\n    return agent.Auth.save(newUser)\n      .then(({ user }) => { currentUser = user; \n        set('currentUser', currentUser); \n      })\n      .finally(() => { updatingUser = false; })\n  }\n\n  export function forgetUser() {\n    currentUser = undefined;\n    set('currentUser', currentUser); \n  }\n\n","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\nimport { token } from './usm/datahandler';\nimport { logout } from './usm/authHandler';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = 'https://conduit.productionready.io/api';\n\nconst encode = encodeURIComponent;\n\nconst handleErrors = err => {\n  if (err && err.response && err.response.status === 401) {\n    logout();\n  }\n  return err;\n};\n\nconst responseBody = res => res.body;\n\nconst tokenPlugin = req => {\n  if (token) {\n    req.set('authorization', `Token ${token}`);\n  }\n};\n\nconst requests = {\n  del: url =>\n    superagent\n      .del(`${API_ROOT}${url}`)\n      .use(tokenPlugin)\n      .end(handleErrors)\n      .then(responseBody),\n  get: url =>\n    superagent\n      .get(`${API_ROOT}${url}`)\n      .use(tokenPlugin)\n      .end(handleErrors)\n      .then(responseBody),\n  put: (url, body) =>\n    superagent\n      .put(`${API_ROOT}${url}`, body)\n      .use(tokenPlugin)\n      .end(handleErrors)\n      .then(responseBody),\n  post: (url, body) =>\n    superagent\n      .post(`${API_ROOT}${url}`, body)\n      .use(tokenPlugin)\n      .end(handleErrors)\n      .then(responseBody),\n};\n\nconst Auth = {\n  current: () =>\n    requests.get('/user'),\n  login: (email, password) =>\n    requests.post('/users/login', { user: { email, password } }),\n  register: (username, email, password) =>\n    requests.post('/users', { user: { username, email, password } }),\n  save: user =>\n    requests.put('/user', { user })\n};\n\nconst Tags = {\n  getAll: () => requests.get('/tags')\n};\n\nconst limit = (count, p) => `limit=${count}&offset=${p ? p * count : 0}`;\nconst omitSlug = article => Object.assign({}, article, { slug: undefined })\n\nconst Articles = {\n  all: (page, lim = 10) =>\n    requests.get(`/articles?${limit(lim, page)}`),\n  byAuthor: (author, page, query) =>\n    requests.get(`/articles?author=${encode(author)}&${limit(5, page)}`),\n  byTag: (tag, page, lim = 10) =>\n    requests.get(`/articles?tag=${encode(tag)}&${limit(lim, page)}`),\n  del: slug =>\n    requests.del(`/articles/${slug}`),\n  favorite: slug =>\n    requests.post(`/articles/${slug}/favorite`),\n  favoritedBy: (author, page) =>\n    requests.get(`/articles?favorited=${encode(author)}&${limit(5, page)}`),\n  feed: () =>\n    requests.get('/articles/feed?limit=10&offset=0'),\n  get: slug =>\n    requests.get(`/articles/${slug}`),\n  unfavorite: slug =>\n    requests.del(`/articles/${slug}/favorite`),\n  update: article =>\n    requests.put(`/articles/${article.slug}`, { article: omitSlug(article) }),\n  create: article =>\n    requests.post('/articles', { article })\n};\n\nconst Comments = {\n  create: (slug, comment) =>\n    requests.post(`/articles/${slug}/comments`, { comment }),\n  delete: (slug, commentId) =>\n    requests.del(`/articles/${slug}/comments/${commentId}`),\n  forArticle: slug =>\n    requests.get(`/articles/${slug}/comments`)\n};\n\nconst Profile = {\n  follow: username =>\n    requests.post(`/profiles/${username}/follow`),\n  get: username =>\n    requests.get(`/profiles/${username}`),\n  unfollow: username =>\n    requests.del(`/profiles/${username}/follow`)\n};\n\nexport default {\n  Articles,\n  Auth,\n  Comments,\n  Profile,\n  Tags,\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {bindState} from 'xsm';\nimport {} from '../usm/userHandler';\nimport {} from '../usm/datahandler';\n\nconst LoggedOutView = props => {\n  if (!props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/login\" className=\"nav-link\">\n            Sign in\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/register\" className=\"nav-link\">\n            Sign up\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n  return null;\n};\n\nconst LoggedInView = props => {\n  if (props.currentUser) {\n    return (\n      <ul className=\"nav navbar-nav pull-xs-right\">\n\n        <li className=\"nav-item\">\n          <Link to=\"/\" className=\"nav-link\">\n            Home\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/editor\" className=\"nav-link\">\n            <i className=\"ion-compose\" />&nbsp;New Post\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/settings\" className=\"nav-link\">\n            <i className=\"ion-gear-a\" />&nbsp;Settings\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link\n            to={`/@${props.currentUser.username}`}\n            className=\"nav-link\"\n          >\n            <img src={props.currentUser.image} className=\"user-pic\" alt=\"\" />\n            {props.currentUser.username}\n          </Link>\n        </li>\n\n      </ul>\n    );\n  }\n\n  return null;\n};\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props)\n    bindState(this)\n  }\n\n  render() {\n    const { appName, currentUser } = this;\n\n    return (\n      <nav className=\"navbar navbar-light\">\n        <div className=\"container\">\n\n          <Link to=\"/\" className=\"navbar-brand\">\n            {appName.toLowerCase()}\n          </Link>\n\n          <LoggedOutView currentUser={currentUser} />\n\n          <LoggedInView currentUser={currentUser} />\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Header;\n","import { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst ArticleActions = props => {\n  const article = props.article;\n  const handleDelete = () => props.onDelete(article.slug);\n\n  if (props.canModify) {\n    return (\n      <span>\n\n        <Link\n          to={`/editor/${article.slug}`}\n          className=\"btn btn-outline-secondary btn-sm\"\n        >\n          <i className=\"ion-edit\" /> Edit Article\n        </Link>\n\n        <button className=\"btn btn-outline-danger btn-sm\" onClick={handleDelete}>\n          <i className=\"ion-trash-a\" /> Delete Article\n        </button>\n\n      </span>\n    );\n  }\n\n  return (\n    <span />\n  );\n};\n\nexport default ArticleActions;\n","import ArticleActions from './ArticleActions';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst ArticleMeta = (props => {\n  const article = props.article;\n  return (\n    <div className=\"article-meta\">\n      <Link to={`/@${article.author.username}`}>\n        <img src={article.author.image} alt=\"\" />\n      </Link>\n\n      <div className=\"info\">\n        <Link to={`/@${article.author.username}`} className=\"author\">\n          {article.author.username}\n        </Link>\n        <span className=\"date\">\n          {new Date(article.createdAt).toDateString()}\n        </span>\n      </div>\n\n      <ArticleActions canModify={props.canModify} article={article} onDelete={props.onDelete} />\n    </div>\n  );\n});\n\nexport default ArticleMeta;\n","import agent from '../agent';\nimport {set, get} from 'xsm';\n\n  let isCreatingComment = false;\n  let isLoadingComments = false;\n  let commentErrors = undefined;\n  let articleSlug = undefined;\n  let comments = [];\n\n  export function setArticleSlug(aSlug) {\n    if (articleSlug !== aSlug) {\n      comments = [];\n      set('comments', comments);\n      articleSlug = aSlug;\n    }\n  }\n\n  export function loadComments() {\n    isLoadingComments = true;\n    commentErrors = undefined;\n    set('commentErrors', commentErrors);\n    const articleSlug = get('slug')\n    return agent.Comments.forArticle(articleSlug)\n      .then(({ comments }) => { comments = comments;\n        set('comments', comments);\n       })\n      .catch(err => {\n        commentErrors = err.response && err.response.body && err.response.body.errors;\n        set('commentErrors', commentErrors);\n        throw err;\n      })\n      .finally(() => { isLoadingComments = false; });\n  }\n\n\n  export function createComment(comment) {\n    isCreatingComment = true;\n    return agent.Comments.create(articleSlug, comment)\n      .then(() => loadComments())\n      .finally(() => { isCreatingComment = false; });\n  }\n\n  export function deleteComment(id) {\n    const idx = comments.findIndex(c => c.id === id);\n    if (idx > -1) comments.splice(idx, 1);\n    return agent.Comments.delete(articleSlug, id)\n      .catch(err => { loadComments(); throw err });\n  }\n\n","import React from 'react';\nimport {bindState} from 'xsm';\nimport { createComment } from '../../usm/commentsHandler';\n\nexport default class CommentInput extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      body: ''\n    };\n\n    bindState(this)\n\n    this.handleBodyChange = ev => {\n      this.setState({ body: ev.target.value });\n    };\n\n    this.createComment = ev => {\n      ev.preventDefault();\n      createComment({ body: this.state.body })\n        .then(() => this.setState({ body: '' }));\n    };\n  }\n\n  render() {\n    const { currentUser, isCreatingComment } = this;\n    return (\n      <form className=\"card comment-form\" onSubmit={this.createComment}>\n        <div className=\"card-block\">\n          <textarea className=\"form-control\"\n            placeholder=\"Write a comment...\"\n            value={this.state.body}\n            disabled={isCreatingComment}\n            onChange={this.handleBodyChange}\n            rows=\"3\"\n          />\n        </div>\n        <div className=\"card-footer\">\n          <img\n            src={currentUser.image}\n            className=\"comment-author-img\"\n            alt=\"\"\n          />\n          <button\n            className=\"btn btn-sm btn-primary\"\n            type=\"submit\"\n          >\n            Post Comment\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n","import React from 'react';\n\nconst DeleteButton = props => {\n  const handleClick = () => props.onDelete(props.commentId);\n\n  if (props.show) {\n    return (\n      <span className=\"mod-options\">\n        <i className=\"ion-trash-a\" onClick={handleClick} />\n      </span>\n    );\n  }\n  return null;\n};\n\nexport default DeleteButton;\n","import DeleteButton from './DeleteButton';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst Comment = props => {\n  const comment = props.comment;\n  const show = props.currentUser &&\n    props.currentUser.username === comment.author.username;\n  return (\n    <div className=\"card\">\n      <div className=\"card-block\">\n        <p className=\"card-text\">{comment.body}</p>\n      </div>\n      <div className=\"card-footer\">\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\"\n        >\n          <img src={comment.author.image} className=\"comment-author-img\" alt=\"\" />\n        </Link>\n        &nbsp;\n        <Link\n          to={`/@${comment.author.username}`}\n          className=\"comment-author\"\n        >\n          {comment.author.username}\n        </Link>\n        <span className=\"date-posted\">\n          {new Date(comment.createdAt).toDateString()}\n        </span>\n        <DeleteButton\n          show={show}\n          slug={props.slug}\n          commentId={comment.id}\n          onDelete={props.onDelete}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Comment;\n","import Comment from './Comment';\nimport React from 'react';\n\nconst CommentList = (props => {\n  return (\n    <div>\n      {\n        props.comments.map(comment => {\n          return (\n            <Comment\n              comment={comment}\n              currentUser={props.currentUser}\n              slug={props.slug}\n              key={comment.id}\n              onDelete={props.onDelete}\n            />\n          );\n        })\n      }\n    </div>\n  );\n});\n\nexport default CommentList;\n","import CommentInput from './CommentInput';\nimport CommentList from './CommentList';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nconst CommentContainer = props => {\n  if (props.currentUser) {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <div>\n          <list-errors errors={props.errors} />\n          <CommentInput slug={props.slug} currentUser={props.currentUser} />\n        </div>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser}\n          onDelete={props.onDelete}\n        />\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <p>\n          <Link to=\"/login\">Sign in</Link>\n          &nbsp;or&nbsp;\n          <Link to=\"/register\">sign up</Link>\n          &nbsp;to add comments on this article.\n        </p>\n\n        <CommentList\n          comments={props.comments}\n          slug={props.slug}\n          currentUser={props.currentUser}\n          onDelete={props.onDelete}\n        />\n      </div>\n    );\n  }\n};\n\nexport default CommentContainer;\n","import React from 'react';\n\nconst wrapperStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n};\n\nconst errorStyle  = {\n  display: 'inline-block',\n  margin: '20px auto',\n  borderRadius: '4px',\n  padding: '8px 15px',\n  color: 'rgb(240, 45, 45)',\n  fontWeight: 'bold',\n  backgroundColor: 'rgba(240, 45, 45, 0.1)'\n};\n\nexport default class RedError extends React.Component {\n  render() {\n    return (\n      <div style={wrapperStyle}>\n        <div style={errorStyle}>\n          {this.props.message}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst style  = {\n  borderRadius: '50%',\n  width: '40px',\n  height: '40px',\n  margin: '90px auto',\n  position: 'relative',\n  borderTop: '3px solid rgba(0, 0, 0, 0.1)',\n  borderRight: '3px solid rgba(0, 0, 0, 0.1)',\n  borderBottom: '3px solid rgba(0, 0, 0, 0.1)',\n  borderLeft: '3px solid #818a91',\n  transform: 'translateZ(0)',\n  animation: 'loading-spinner 0.5s infinite linear',\n};\n\nexport default class LoadingSpinner extends React.Component {\n  render() {\n    return (\n      <div className=\"loading-spinner\" style={style}>\n        <style>\n        {`\n        @keyframes loading-spinner {\n          0% { transform : rotate(0deg); }\n          100% { transform : rotate(360deg); }\n        }\n        `}\n        </style>\n      </div>\n    );\n  }\n}\n","import agent from '../agent';\r\nimport {set} from 'xsm';\r\n\r\nconst LIMIT = 10;\r\n\r\n\r\n  let isLoading = false;\r\n  let page = 0;\r\n  let totalPagesCount = 0;\r\n  let articlesRegistry = new Map();\r\n  let predicate = {};\r\n\r\n  function clear() {\r\n    articlesRegistry.clear();\r\n    page = 0;\r\n    set('page', page)\r\n  }\r\n\r\n  export  function getArticle(slug) {\r\n    const val = articlesRegistry.get(slug);\r\n    //console.log('slug', slug, 'articlesRegistry', articlesRegistry, 'val', val);\r\n    if( !val ) {\r\n      //loadArticle(slug)\r\n    }\r\n    return val;\r\n  }\r\n\r\n  export function setPage(pg) {\r\n    page = pg;\r\n    set('page', page)\r\n  }\r\n\r\n  export function setPredicate(mypredicate) {\r\n    if (JSON.stringify(predicate) === JSON.stringify(mypredicate)) return;\r\n    clear();\r\n    predicate = mypredicate;\r\n  }\r\n\r\n  function $req() {\r\n    if (predicate.myFeed) return agent.Articles.feed(page, LIMIT);\r\n    if (predicate.favoritedBy) return agent.Articles.favoritedBy(predicate.favoritedBy, page, LIMIT);\r\n    if (predicate.tag) return agent.Articles.byTag(predicate.tag, page, LIMIT);\r\n    if (predicate.author) return agent.Articles.byAuthor(predicate.author, page, LIMIT);\r\n    return agent.Articles.all(page, LIMIT, predicate);\r\n  }\r\n\r\n  export function loadArticles() {\r\n    isLoading = true;\r\n    return $req()\r\n      .then(({ articles, articlesCount }) => {\r\n        articlesRegistry.clear();\r\n        articles.forEach(article => articlesRegistry.set(article.slug, article));\r\n        totalPagesCount = Math.ceil(articlesCount / LIMIT);\r\n        set('articles', articles)\r\n        set('totalPagesCount', totalPagesCount)\r\n      })\r\n      .finally(() => { isLoading = false; });\r\n  }\r\n\r\n  export function loadArticle(slug, { acceptCached = false } = {}) {\r\n    set('slug', slug)\r\n    if (acceptCached) {\r\n      const article = getArticle(slug);\r\n      if (article) return Promise.resolve(article);\r\n    }\r\n    let isArticleLoading = true;\r\n    set('isArticleLoading', isArticleLoading)\r\n    return agent.Articles.get(slug)\r\n      .then(({ article }) => {\r\n        articlesRegistry.set(article.slug, article);\r\n        set('article', article)\r\n        return article;\r\n      })\r\n      .finally(() => { \r\n        isArticleLoading = false;\r\n        set('isArticleLoading', isArticleLoading)\r\n      });\r\n  }\r\n\r\n  export function makeFavorite(slug) {\r\n    const article = getArticle(slug);\r\n    if (article && !article.favorited) {\r\n      article.favorited = true;\r\n      article.favoritesCount++;\r\n      return agent.Articles.favorite(slug)\r\n        .catch(err => {\r\n          article.favorited = false;\r\n          article.favoritesCount--;\r\n          throw err;\r\n        });\r\n    }\r\n    return Promise.resolve();\r\n  }\r\n\r\n  export function unmakeFavorite(slug) {\r\n    const article = getArticle(slug);\r\n    if (article && article.favorited) {\r\n      article.favorited = false;\r\n      article.favoritesCount--;\r\n      return agent.Articles.unfavorite(slug)\r\n        .catch(err => {\r\n          article.favorited = true;\r\n          article.favoritesCount++;\r\n          throw err;\r\n        });\r\n    }\r\n    return Promise.resolve();\r\n  }\r\n\r\n  export function createArticle(article) {\r\n    return agent.Articles.create(article)\r\n      .then(({ article }) => {\r\n        articlesRegistry.set(article.slug, article);\r\n        return article;\r\n      })\r\n  }\r\n\r\n  export function updateArticle(data) {\r\n    return agent.Articles.update(data)\r\n      .then(({ article }) => {\r\n        articlesRegistry.set(article.slug, article);\r\n        return article;\r\n      })\r\n  }\r\n\r\n  export function deleteArticle(slug) {\r\n    articlesRegistry.delete(slug);\r\n    return agent.Articles.del(slug)\r\n      .catch(err => { loadArticles(); throw err; });\r\n  }\r\n","import ArticleMeta from './ArticleMeta';\nimport CommentContainer from './CommentContainer';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport RedError from '../RedError';\nimport LoadingSpinner from '../LoadingSpinner';\nimport marked from 'marked';\nimport * as ah from '../../usm/articleHandler';\nimport * as ch from '../../usm/commentsHandler';\nimport { bindState } from 'xsm';\n\n\n@withRouter\nexport default class Article extends React.Component {\n  constructor(props) {\n    super(props)\n    bindState(this)\n  }\n  componentDidMount() {\n    const slug = this.props.match.params.id;\n    ah.loadArticle(slug, { acceptCached: true });\n    ch.setArticleSlug(slug);\n    ch.loadComments();\n  }\n\n  handleDeleteArticle = slug => {\n    ah.deleteArticle(slug)\n      .then(() => this.props.history.replace('/'));\n  };\n\n  handleDeleteComment = id => {\n    ch.deleteComment(id);\n  };\n\n  render() {\n    const slug = this.props.match.params.id;\n    const { currentUser, comments, commentErrors, isArticleLoading } = this;\n    const article = ah.getArticle(slug);\n\n    if (isArticleLoading) return <LoadingSpinner />;\n    if (!article) return <RedError message=\"Can't load article\" />;\n\n    const markup = { __html: marked(article.body, { sanitize: true }) };\n    const canModify = currentUser && currentUser.username === article.author.username;\n    return (\n      <div className=\"article-page\">\n\n        <div className=\"banner\">\n          <div className=\"container\">\n\n            <h1>{article.title}</h1>\n            <ArticleMeta\n              article={article}\n              canModify={canModify}\n              onDelete={this.handleDeleteArticle}\n            />\n          </div>\n        </div>\n\n        <div className=\"container page\">\n\n          <div className=\"row article-content\">\n            <div className=\"col-xs-12\">\n\n              <div dangerouslySetInnerHTML={markup} />\n\n              <ul className=\"tag-list\">\n                {\n                  article.tagList.map(tag => {\n                    return (\n                      <li\n                        className=\"tag-default tag-pill tag-outline\"\n                        key={tag}\n                      >\n                        {tag}\n                      </li>\n                    );\n                  })\n                }\n              </ul>\n\n            </div>\n          </div>\n\n          <hr />\n\n          <div className=\"article-actions\" />\n\n          <div className=\"row\">\n            <CommentContainer\n              comments={comments}\n              errors={commentErrors}\n              slug={slug}\n              currentUser={currentUser}\n              onDelete={this.handleDeleteComment}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nclass ListErrors extends React.Component {\n  render() {\n    const errors = this.props.errors;\n    if (errors) {\n      return (\n        <ul className=\"error-messages\">\n          {\n            Object.keys(errors).map(key => {\n              return (\n                <li key={key}>\n                  {key} {errors[key]}\n                </li>\n              );\n            })\n          }\n        </ul>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ListErrors;\n","import * as articlesHandler from './articleHandler';\nimport {set, get } from 'xsm';\n\n\n  let inProgress = false;\n  let editorErrors = undefined;\n  let articleSlug = undefined;\n\n  let tagList = [];\n\n  export function setArticleSlug(aSlug) {\n    if (articleSlug !== aSlug) {\n      reset();\n      articleSlug = aSlug;\n    }\n  }\n\n  export function loadInitialData() {\n    if (!articleSlug) return Promise.resolve();\n    inProgress = true;\n    return articlesHandler.loadArticle(articleSlug, { acceptCached: true })\n      .then((article) => {\n        if (!article) throw new Error('Can\\'t load original article');\n        tagList = article.tagList;\n        set('title', article.title)\n        set('description', article.description)\n        set('body', article.body)\n        set('tagList', tagList)\n      })\n      .finally(() => { inProgress = false; });\n  }\n\n  export function reset() {\n    tagList = [];\n    set('title', '')\n    set('description', '')\n    set('body', '')\n    set('tagList', [])\n  }\n\n  export function setTitle(title) {\n    set('title', title)\n  }\n\n  export function setDescription(description) {\n    set('description', description)\n  }\n\n  export function setBody(body) {\n    set('body', body)\n  }\n\n  export function addTag(tag) {\n    if (tagList.includes(tag)) return;\n    tagList.push(tag);\n    set('tagList', tagList)\n  }\n\n  export function removeTag(tag) {\n    tagList = tagList.filter(t => t !== tag);\n    set('tagList', tagList)\n  }\n\n  export function submit() {\n    inProgress = true;\n    editorErrors = undefined;\n    const article = {\n      title: get('title'),\n      description: get('description'),\n      body: get('body'),\n      tagList: get('tagList'),\n      slug: articleSlug,\n    };\n    return (articleSlug ? articlesHandler.updateArticle(article) : articlesHandler.createArticle(article))\n      .catch((err) => {\n        editorErrors = err.response && err.response.body && err.response.body.errors; throw err;\n        set('editorErrors', editorErrors)\n      })\n      .finally(() => { inProgress = false; });\n  }\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {bindState} from 'xsm';\nimport * as eh from '../usm/editorHandler';\n\n@withRouter\nexport default class Editor extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      tagInput: '',\n    };\n    bindState(this)\n  }\n\n  componentWillMount() {\n    eh.setArticleSlug(this.props.match.params.slug);\n  }\n\n  componentDidMount() {\n    eh.loadInitialData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.slug !== prevProps.match.params.slug) {\n      eh.setArticleSlug(this.props.match.params.slug);\n      eh.loadInitialData();\n    }\n  }\n\n  changeTitle = e => eh.setTitle(e.target.value);\n  changeDescription = e => eh.setDescription(e.target.value);\n  changeBody = e => eh.setBody(e.target.value);\n  changeTagInput = e => this.setState({ tagInput: e.target.value });\n\n  handleTagInputKeyDown = ev => {\n    switch (ev.keyCode) {\n      case 13: // Enter\n      case 9: // Tab\n      case 188: // ,\n        if (ev.keyCode !== 9) ev.preventDefault();\n        this.handleAddTag();\n        break;\n      default:\n        break;\n    }\n  };\n\n  handleAddTag = () => {\n    if (this.state.tagInput) {\n      eh.addTag(this.state.tagInput.trim());\n      this.setState({ tagInput: '' });\n    }\n  };\n\n  handleRemoveTag = tag => {\n    if (this.state.inProgressRemoveTag) return;\n    eh.removeTag(tag);\n  };\n\n  submitForm = ev => {\n    ev.preventDefault();\n    eh.submit()\n      .then(article => {\n        eh.reset();\n        this.props.history.replace(`/article/${article.slug}`)\n      });\n  };\n\n  render() {\n    const {\n      inProgressRemoveTag,\n      editorErrors,\n      title,\n      description,\n      body,\n      tagList,\n    } = this;\n\n    return (\n      <div className=\"editor-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-10 offset-md-1 col-xs-12\">\n\n              <ListErrors errors={editorErrors} />\n\n              <form>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Article Title\"\n                      value={title}\n                      onChange={this.changeTitle}\n                      disabled={inProgressRemoveTag}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"What's this article about?\"\n                      value={description}\n                      onChange={this.changeDescription}\n                      disabled={inProgressRemoveTag}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <textarea\n                      className=\"form-control\"\n                      rows=\"8\"\n                      placeholder=\"Write your article (in markdown)\"\n                      value={body}\n                      onChange={this.changeBody}\n                      disabled={inProgressRemoveTag}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Enter tags\"\n                      value={this.state.tagInput}\n                      onChange={this.changeTagInput}\n                      onBlur={this.handleAddTag}\n                      onKeyDown={this.handleTagInputKeyDown}\n                      disabled={inProgressRemoveTag}\n                    />\n\n                    <div className=\"tag-list\">\n                      {\n                        tagList.map(tag => {\n                          return (\n                            <span className=\"tag-default tag-pill\" key={tag}>\n                              <i\n                                className=\"ion-close-round\"\n                                onClick={() => this.handleRemoveTag(tag)}\n                              />\n                              {tag}\n                            </span>\n                          );\n                        })\n                      }\n                    </div>\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg pull-xs-right btn-primary\"\n                    type=\"button\"\n                    disabled={inProgressRemoveTag}\n                    onClick={this.submitForm}\n                  >\n                    Publish Article\n                  </button>\n\n                </fieldset>\n              </form>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst Banner = ({ appName, token }) => {\n  if (token) {\n    return null;\n  }\n  return (\n    <div className=\"banner\">\n      <div className=\"container\">\n        <h1 className=\"logo-font\">\n          {appName.toLowerCase()}\n        </h1>\n        <p>A place to share your knowledge.</p>\n      </div>\n    </div>\n  );\n};\n\nexport default Banner;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst FAVORITED_CLASS = 'btn btn-sm btn-primary';\nconst NOT_FAVORITED_CLASS = 'btn btn-sm btn-outline-primary';\n\n\nexport default class ArticlePreview extends React.Component {\n\n  handleClickFavorite = ev => {\n    ev.preventDefault();\n    const { ah, article } = this.props;\n    if (article.favorited) {\n      ah.unmakeFavorite(article.slug);\n    } else {\n      ah.makeFavorite(article.slug);\n    }\n  };\n\n  render() {\n    const { article } = this.props;\n    const favoriteButtonClass = article.favorited ? FAVORITED_CLASS : NOT_FAVORITED_CLASS;\n\n    return (\n      <div className=\"article-preview\">\n        <div className=\"article-meta\">\n          <Link to={`/@${article.author.username}`}>\n            <img src={article.author.image} alt=\"\" />\n          </Link>\n\n          <div className=\"info\">\n            <Link className=\"author\" to={`/@${article.author.username}`}>\n              {article.author.username}\n            </Link>\n            <span className=\"date\">\n            {new Date(article.createdAt).toDateString()}\n          </span>\n          </div>\n\n          <div className=\"pull-xs-right\">\n            <button className={favoriteButtonClass} onClick={this.handleClickFavorite}>\n              <i className=\"ion-heart\" /> {article.favoritesCount}\n            </button>\n          </div>\n        </div>\n\n        <Link to={`/article/${article.slug}`} className=\"preview-link\">\n          <h1>{article.title}</h1>\n          <p>{article.description}</p>\n          <span>Read more...</span>\n          <ul className=\"tag-list\">\n            {\n              article.tagList.map(tag => {\n                return (\n                  <li className=\"tag-default tag-pill tag-outline\" key={tag}>\n                    {tag}\n                  </li>\n                )\n              })\n            }\n          </ul>\n        </Link>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nconst ListPagination = props => {\n  if (props.totalPagesCount < 2) {\n    return null;\n  }\n\n  const range = [];\n  for (let i = 0; i < props.totalPagesCount; ++i) {\n    range.push(i);\n  }\n\n  return (\n    <nav>\n      <ul className=\"pagination\">\n\n        {\n          range.map(v => {\n            const isCurrent = v === props.currentPage;\n            const onClick = ev => {\n              ev.preventDefault();\n              props.onSetPage(v);\n            };\n            return (\n              <li\n                className={ isCurrent ? 'page-item active' : 'page-item' }\n                onClick={onClick}\n                key={v.toString()}\n              >\n\n                <a className=\"page-link\" href=\"\">{v + 1}</a>\n\n              </li>\n            );\n          })\n        }\n\n      </ul>\n    </nav>\n  );\n};\n\nexport default ListPagination;\n","import ArticlePreview from './ArticlePreview';\nimport ListPagination from './ListPagination';\nimport LoadingSpinner from './LoadingSpinner';\nimport React from 'react';\n\nconst ArticleList = props => {\n  if (props.loading && props.articles.length === 0) {\n    return (\n      <LoadingSpinner />\n    );\n  }\n\n  if (props.articles.length === 0) {\n    return (\n      <div className=\"article-preview\">\n        No articles are here... yet.\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {\n        props.articles.map(article => {\n          return (\n            <ArticlePreview ah={props.ah} article={article} key={article.slug} />\n          );\n        })\n      }\n\n      <ListPagination\n        onSetPage={props.onSetPage}\n        totalPagesCount={props.totalPagesCount}\n        currentPage={props.currentPage}\n      />\n    </div>\n  );\n};\n\nexport default ArticleList;\n","import ArticleList from '../ArticleList';\nimport React from 'react';\nimport { withRouter, NavLink } from 'react-router-dom'\nimport { parse as qsParse } from 'query-string';\nimport * as ah from '../../usm/articleHandler';\nimport {bindState} from 'xsm';\n\nconst YourFeedTab = props => {\n  if (props.currentUser) {\n\n    return (\n      <li className=\"nav-item\">\n      <NavLink\n          className=\"nav-link\"\n          isActive={\n            (match, location) => {\n              return location.search.match(\"tab=feed\") ? 1 : 0;\n            }\n          }\n          to={{\n            pathname: \"/\",\n            search: \"?tab=feed\"\n          }}\n        >\n          Your Feed\n        </NavLink>\n      </li>\n    );\n  }\n  return null;\n};\n\nconst GlobalFeedTab = props => {\n  return (\n    <li className=\"nav-item\">\n      <NavLink\n        className=\"nav-link\"\n        isActive={\n          (match, location) => {\n            return !location.search.match(/tab=(feed|tag)/) ? 1 : 0;\n          }\n        }\n        to={{\n          pathname: \"/\",\n          search: \"?tab=all\"\n        }}\n      >\n        Global Feed\n      </NavLink>\n    </li>\n  );\n};\n\nconst TagFilterTab = props => {\n  if (!props.tag) {\n    return null;\n  }\n\n  return (\n    <li className=\"nav-item\">\n      <a href=\"\" className=\"nav-link active\">\n        <i className=\"ion-pound\" /> {props.tag}\n      </a>\n    </li>\n  );\n};\n\n@withRouter\nexport default class MainView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    bindState(this) \n  }\n\n  componentWillMount() {\n    ah.setPredicate(this.getPredicate());\n  }\n\n  componentDidMount() {\n    ah.loadArticles();\n  }\n\n  componentDidUpdate(previousProps) {\n    if (\n      this.getTab(this.props) !== this.getTab(previousProps) ||\n      this.getTag(this.props) !== this.getTag(previousProps)\n    ) {\n      ah.setPredicate(this.getPredicate());\n      ah.loadArticles();\n    }\n  }\n\n  getTag(props = this.props) {\n    return qsParse(props.location.search).tag || \"\";\n  }\n\n  getTab(props = this.props) {\n    return qsParse(props.location.search).tab || 'all';\n  }\n\n  getPredicate(props = this.props) {\n    switch (this.getTab(props)) {\n      case 'feed': return { myFeed: true };\n      case 'tag': return { tag: qsParse(props.location.search).tag };\n      default: return {};\n    }\n  }\n\n  handleTabChange = (tab) => {\n    if (this.props.location.query.tab === tab) return;\n    this.props.router.push({ ...this.props.location, query: { tab } })\n  };\n\n  handleSetPage = page => {\n    ah.setPage(page);\n    ah.loadArticles();\n  };\n\n  render() {\n    const { articles, isLoading, page, totalPagesCount, currentUser } = this;\n\n    return (\n      <div className=\"col-md-9\">\n        <div className=\"feed-toggle\">\n          <ul className=\"nav nav-pills outline-active\">\n\n            <YourFeedTab\n              currentUser={currentUser}\n              tab={this.getTab()}\n            />\n\n            <GlobalFeedTab\n              tab={this.getTab()}\n            />\n\n            <TagFilterTab tag={qsParse(this.props.location.search).tag} />\n\n          </ul>\n        </div>\n\n        <ArticleList\n          ah={ah}\n          articles={articles}\n          loading={isLoading}\n          totalPagesCount={totalPagesCount}\n          currentPage={page}\n          onSetPage={this.handleSetPage}\n        />\n      </div>\n    );\n  }\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../LoadingSpinner';\n\nconst Tags = props => {\n  const tags = props.tags;\n  if (tags) {\n    return (\n      <div className=\"tag-list\">\n        {\n          tags.map(tag => {\n\n            return (\n              <Link\n                to={{\n                  pathname: \"/\",\n                  search: \"?tab=tag&tag=\" + tag\n                }}\n                className=\"tag-default tag-pill\"\n                key={tag}\n              >\n                {tag}\n              </Link>\n            );\n          })\n        }\n      </div>\n    );\n  } else {\n    return (\n      <LoadingSpinner />\n    );\n  }\n};\n\nexport default Tags;\n","import Banner from './Banner';\nimport MainView from './MainView';\nimport React from 'react';\nimport {bindState} from 'xsm';\nimport { loadTags, setAppName, setToken} from '../../usm/datahandler';\nimport Tags from './Tags';\nimport { withRouter } from 'react-router-dom';\n\n@withRouter\nexport default class Home extends React.Component {\n  constructor(props) {\n      super(props);\n      bindState(this,\n          /*\n          { token: null,\n            tags: null,\n            appName: 'app'\n          }\n          */\n      )\n  }\n\n  componentDidMount() {\n    setAppName();\n    setToken();\n    loadTags();\n  }\n\n  render() {\n    const { tags, token, appName } = this;\n    return (\n      <div className=\"home-page\">\n\n        <Banner token={token} appName={appName} />\n\n        <div className=\"container page\"> <div className=\"row\">\n            <MainView />\n\n            <div className=\"col-md-3\">\n              <div className=\"sidebar\">\n\n                <p>Popular Tags</p>\n\n                <Tags\n                  tags={tags}\n                />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n","import { withRouter, Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport {bindState} from 'xsm';\nimport { login, reset, setPassword, setEmail } from '../usm/authHandler';\n\n@withRouter\nexport default class Login extends React.Component {\n    constructor(props) {\n        super(props);\n        bindState(this);\n    }\n\n  componentWillUnmount() {\n    reset();\n  }\n\n  handleEmailChange = e => setEmail(e.target.value);\n  handlePasswordChange = e => setPassword(e.target.value);\n  handleSubmitForm = (e) => {\n    e.preventDefault();\n    login()\n      .then(() => this.props.history.replace('/'));\n  };\n\n  render() {\n    let { currentUser, lerrors, linProgress } = this\n    if( !currentUser ) currentUser = {}\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign In</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"register\">\n                  Need an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={lerrors} />\n\n              <form onSubmit={this.handleSubmitForm}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={currentUser.email}\n                      onChange={this.handleEmailChange}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={currentUser.password}\n                      onChange={this.handlePasswordChange}\n                    />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={linProgress}\n                  >\n                    Sign in\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import agent from '../agent';\nimport {set} from 'xsm';\n\n\n  let profile = undefined;\n  let isLoadingProfile = false;\n\n  export function loadProfile(username) {\n    isLoadingProfile = true;\n    set('isLoadingProfile', isLoadingProfile)\n    agent.Profile.get(username)\n      .then(( pf ) => { \n        profile = pf.profile; \n        set('profile', profile)\n      })\n      .finally(() => { isLoadingProfile = false; \n        set('isLoadingProfile', isLoadingProfile)\n      })\n  }\n\n  export function follow() {\n      setcfg({trace: true});\n    if (profile && !profile.following) {\n      profile.following = true;\n      set('profile', profile)\n      agent.Profile.follow(profile.username)\n        .catch(() => { profile.following = false \n          set('profile', profile)\n        });\n    }\n  }\n\n  export function unfollow() {\n    if (profile && profile.following) {\n      profile.following = false;\n      set('profile', profile)\n      agent.Profile.unfollow(profile.username)\n        .catch(() => { profile.following = true \n          set('profile', profile)\n        });\n    }\n  }\n","import ArticleList from './ArticleList';\nimport React from 'react';\nimport LoadingSpinner from './LoadingSpinner';\nimport RedError from './RedError';\nimport { NavLink, Link, withRouter } from 'react-router-dom';\nimport * as ph from '../usm/profileHandler'\nimport * as ah from '../usm/articleHandler'\nimport {get, bindState} from 'xsm'\n\nconst EditProfileSettings = props => {\n  if (props.isUser) {\n    return (\n      <Link\n        to=\"/settings\"\n        className=\"btn btn-sm btn-outline-secondary action-btn\">\n        <i className=\"ion-gear-a\" /> Edit Profile Settings\n      </Link>\n    );\n  }\n  return null;\n};\n\nconst FollowUserButton = props => {\n  if (props.isUser) {\n    return null;\n  }\n\n  let classes = 'btn btn-sm action-btn';\n  if (props.following) {\n    classes += ' btn-secondary';\n  } else {\n    classes += ' btn-outline-secondary';\n  }\n\n  const handleClick = ev => {\n    ev.preventDefault();\n    if (props.following) {\n      props.unfollow(props.username)\n    } else {\n      props.follow(props.username)\n    }\n  };\n\n  return (\n    <button\n      className={classes}\n      onClick={handleClick}\n    >\n      <i className=\"ion-plus-round\" />\n      &nbsp;\n      {props.following ? 'Unfollow' : 'Follow'} {props.username}\n    </button>\n  );\n};\n\n\n@withRouter\nexport default class Profile extends React.Component {\n  constructor(props) {\n      console.log('profile props', props);\n    super(props)\n    bindState(this)\n  }\n\n  componentWillMount() {\n    ah.setPredicate(this.getPredicate());\n  }\n\n  componentDidMount() {\n    ph.loadProfile(this.props.match.params.username);\n    ah.loadArticles();\n  }\n\n  componentDidUpdate(previousProps) {\n    if (this.props.location !== previousProps.location) {\n      ph.loadProfile(this.props.match.params.username);\n      ah.setPredicate(this.getPredicate());\n      ah.loadArticles();\n    }\n  }\n\n  getTab() {\n    if (/\\/favorites/.test(this.props.location.pathname)) return 'favorites';\n    return 'all'\n  }\n\n  getPredicate() {\n    switch (this.getTab()) {\n      case 'favorites': return { favoritedBy: this.props.match.params.username }\n      default: return { author: this.props.match.params.username }\n    }\n  }\n\n  handleFollow = () => {\n      const curUser = get('currentUser');\n      if( curUser )\n          ph.follow();\n      else\n          this.props.history.replace('/register');\n  };\n  handleUnfollow = () => ph.unfollow();\n\n  handleSetPage = page => {\n    ah.setPage(page);\n    ah.loadArticles();\n  };\n\n  renderTabs() {\n    const { profile } = this;\n    return (\n      <ul className=\"nav nav-pills outline-active\">\n        <li className=\"nav-item\">\n          <NavLink\n            className=\"nav-link\"\n            isActive={\n              (match, location) => {\n                return location.pathname.match(\"/favorites\") ? 0 : 1;\n              }\n            }\n            to={`/@${profile.username}`}\n          >\n            My Articles\n          </NavLink>\n        </li>\n\n        <li className=\"nav-item\">\n          <NavLink\n            className=\"nav-link\"\n            to={`/@${profile.username}/favorites`}\n          >\n            Favorited Articles\n          </NavLink>\n        </li>\n      </ul>\n    );\n  }\n\n  render() {\n    const { totalPagesCount, articles, isArticlesLoading, profile, isLoadingProfile, currentUser } = this;\n\n    if (isLoadingProfile && !profile) return <LoadingSpinner />;\n    if (!profile) return <RedError message=\"Can't load profile\" />;\n\n    const isUser = currentUser && profile.username === currentUser.username;\n\n    return (\n      <div className=\"profile-page\">\n\n        <div className=\"user-info\">\n          <div className=\"container\">\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n                <img src={profile.image} className=\"user-img\" alt=\"\" />\n                <h4>{profile.username}</h4>\n                <p>{profile.bio}</p>\n\n                <EditProfileSettings isUser={isUser} />\n                <FollowUserButton\n                  isUser={isUser}\n                  username={profile.username}\n                  following={profile.following}\n                  follow={this.handleFollow}\n                  unfollow={this.handleUnfollow}\n                />\n\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n\n              <div className=\"articles-toggle\">\n                {this.renderTabs()}\n              </div>\n\n              <ArticleList\n                articles={articles}\n                totalPagesCount={totalPagesCount}\n                onSetPage={this.handleSetPage}\n                loading={isArticlesLoading}\n              />\n            </div>\n\n          </div>\n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport { Profile };\n","import { Link } from 'react-router-dom';\nimport ListErrors from './ListErrors';\nimport React from 'react';\nimport {bindState} from 'xsm';\nimport { reset, setUsername, setEmail, setPassword, register} from '../usm/authHandler';\n\nexport default class Register extends React.Component {\n\n    constructor(props) {\n        super(props);\n        bindState(this);\n    }\n\n  componentWillUnmount() {\n    reset();\n  }\n\n  handleUsernameChange = e => setUsername(e.target.value);\n  handleEmailChange = e => setEmail(e.target.value);\n  handlePasswordChange = e => setPassword(e.target.value);\n  handleSubmitForm = (e) => {\n    e.preventDefault();\n    register()\n      .then(() => this.props.history.replace('/'));\n  };\n\n  render() {\n    let { currentUser, rerrors, rinProgress } = this;\n    if( !currentUser ) currentUser = {}\n\n    return (\n      <div className=\"auth-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n              <h1 className=\"text-xs-center\">Sign Up</h1>\n              <p className=\"text-xs-center\">\n                <Link to=\"login\">\n                  Have an account?\n                </Link>\n              </p>\n\n              <ListErrors errors={rerrors} />\n\n              <form onSubmit={this.handleSubmitForm}>\n                <fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      value={currentUser.username}\n                      onChange={this.handleUsernameChange}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"email\"\n                      placeholder=\"Email\"\n                      value={currentUser.email}\n                      onChange={this.handleEmailChange}\n                    />\n                  </fieldset>\n\n                  <fieldset className=\"form-group\">\n                    <input\n                      className=\"form-control form-control-lg\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      value={currentUser.password}\n                      onChange={this.handlePasswordChange}\n                    />\n                  </fieldset>\n\n                  <button\n                    className=\"btn btn-lg btn-primary pull-xs-right\"\n                    type=\"submit\"\n                    disabled={rinProgress}\n                  >\n                    Sign in\n                  </button>\n\n                </fieldset>\n              </form>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import ListErrors from './ListErrors';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport * as uh from '../usm/userHandler'\nimport * as ah from '../usm/authHandler'\nimport {bindState} from 'xsm'\n\nclass SettingsForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      image: '',\n      username: '',\n      bio: '',\n      email: '',\n      password: ''\n    };\n\n    bindState(this);\n\n    this.updateState = field => ev => {\n      const state = this.state;\n      const newState = Object.assign({}, state, { [field]: ev.target.value });\n      this.setState(newState);\n    };\n\n    this.submitForm = ev => {\n      ev.preventDefault();\n\n      const user = Object.assign({}, this.state);\n      if (!user.password) {\n        delete user.password;\n      }\n\n      this.props.onSubmitForm(user);\n    };\n  }\n\n  componentWillMount() {\n    if (this.currentUser) {\n      Object.assign(this.state, {\n        image: this.currentUser.image || '',\n        username: this.currentUser.username,\n        bio: this.currentUser.bio || '',\n        email: this.currentUser.email\n      });\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submitForm}>\n        <fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"URL of profile picture\"\n              value={this.state.image}\n              onChange={this.updateState('image')}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"text\"\n              placeholder=\"Username\"\n              value={this.state.username}\n              onChange={this.updateState('username')}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <textarea\n              className=\"form-control form-control-lg\"\n              rows=\"8\"\n              placeholder=\"Short bio about you\"\n              value={this.state.bio}\n              onChange={this.updateState('bio')}\n            >\n            </textarea>\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"email\"\n              placeholder=\"Email\"\n              value={this.state.email}\n              onChange={this.updateState('email')}\n            />\n          </fieldset>\n\n          <fieldset className=\"form-group\">\n            <input\n              className=\"form-control form-control-lg\"\n              type=\"password\"\n              placeholder=\"New Password\"\n              value={this.state.password}\n              onChange={this.updateState('password')}\n            />\n          </fieldset>\n\n          <button\n            className=\"btn btn-lg btn-primary pull-xs-right\"\n            type=\"submit\"\n            disabled={this.state.updatingUser}\n          >\n            Update Settings\n          </button>\n\n        </fieldset>\n      </form>\n    );\n  }\n}\n\n@withRouter\nclass Settings extends React.Component {\n\n  constructor(props) {\n      super(props);\n    bindState(this);\n  }\n\n  handleClickLogout = () =>\n    ah.logout()\n      .then(() => this.props.history.replace('/'));\n\n  render() {\n      const {updatingUserErrors, currentUser} = this;\n\n    return (\n      <div className=\"settings-page\">\n        <div className=\"container page\">\n          <div className=\"row\">\n            <div className=\"col-md-6 offset-md-3 col-xs-12\">\n\n              <h1 className=\"text-xs-center\">Your Settings</h1>\n\n              <ListErrors errors={updatingUserErrors} />\n\n              <SettingsForm\n                currentUser={currentUser}\n                onSubmitForm={user => uh.updateUser(user)} />\n\n              <hr />\n\n              <button\n                className=\"btn btn-outline-danger\"\n                onClick={this.handleClickLogout}\n              >\n                Or click here to logout.\n              </button>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Settings;\n","import Header from './Header';\nimport React from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\nimport { appLoaded, setAppLoaded, token} from '../usm/datahandler';\nimport { pullUser } from '../usm/userHandler';\n\nimport Article from './Article';\nimport Editor from './Editor';\nimport Home from './Home';\nimport Login from './Login';\nimport Profile from './Profile';\nimport Register from './Register';\nimport Settings from './Settings';\nimport { bindState } from 'xsm';\n\nexport default @withRouter class App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    bindState(this)\n  }\n\n  componentWillMount() {\n    if (!token) {\n      setAppLoaded();\n    }\n  }\n\n  componentDidMount() {\n    if (token) {\n      pullUser()\n      .finally(() => setAppLoaded());\n    }\n  }\n\n  render() {\n            //<PrivateRoute path=\"/settings\" component={Settings} />\n    if (appLoaded) {\n      return (\n        <div>\n          <Header />\n          <Switch>\n            <Route path=\"/login\" component={Login} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/editor/:slug?\" component={Editor} />\n            <Route path=\"/article/:id\" component={Article} />\n            <Route path=\"/settings\" component={Settings} />\n            <Route path=\"/@:username\" component={Profile} />\n            <Route path=\"/@:username/favorites\" component={Profile} />\n            <Route path=\"/\" component={Home} />\n          </Switch>\n        </div>\n      );\n    }\n    return (\n      <Header />\n    );\n  }\n}\n","const currentUser = 'currentUser'\r\n\r\nconst commentsVal = [] \r\nconst nulval = null\r\nconst currentUserVal = nulval\r\n\r\nexport const    App = { \r\n        appLoaded: nulval\r\n}\r\nexport const    Header = { \r\n        appName: 'app',\r\n        [currentUser]: currentUserVal,\r\n}\r\nexport const    Home = { \r\n        token: nulval,\r\n        tags: nulval,\r\n        appName: 'app'\r\n}\r\nexport const    Login = {\r\n        [currentUser]: currentUserVal,\r\n        lerrors: nulval,\r\n        linProgress: nulval,\r\n}\r\nexport const    Register = {\r\n        [currentUser]: currentUserVal,\r\n        rerrors: nulval,\r\n        rinProgress: nulval,\r\n}\r\nexport const    Profile = {\r\n       [currentUser]: currentUserVal,\r\n       articles: [], \r\n       profile: nulval,\r\n       isArticlesLoading: nulval,\r\n       isLoadingProfile: nulval, \r\n       totalPagesCount: 0,\r\n}\r\nexport const Article = {\r\n        [currentUser]: currentUserVal,\r\n        isArticleLoading: nulval,\r\n        comments: commentsVal,\r\n        commentError: nulval,\r\n}\r\nexport const    Settings = {\r\n        [currentUser]: currentUserVal,\r\n        updatingUserErrors: nulval,\r\n}\r\nexport const    SettingsForm = {\r\n        [currentUser]: currentUserVal,\r\n        updatingUser: nulval,\r\n}\r\nexport const    MainView = {\r\n       [currentUser]: currentUserVal,\r\n       articles: [], \r\n       isLoading: nulval, \r\n       page: 0, \r\n       totalPagesCount: 0,\r\n       predicate: nulval,\r\n}\r\nexport const    Editor = {\r\n      inProgressRemoveTag: nulval,\r\n      editorErrors: nulval,\r\n      title: '',\r\n      description: '',\r\n      body: '',\r\n      tagList: [],\r\n}\r\nexport const    CommentInput = {\r\n        [currentUser]: currentUserVal,\r\n        isCreatingComment: nulval,\r\n}\r\nexport const    PrivateRoute = {\r\n        [currentUser]: currentUserVal,\r\n}","/* eslint-disable import/first */\nimport ReactDOM from 'react-dom';\nimport React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport promiseFinally from 'promise.prototype.finally';\n\nimport App from './components/App';\n\nimport * as bindings from './usm/state';\n\nimport {setcfg} from 'xsm';\n\nsetcfg({\n  framework: 'React',\n  debug: true,\n  bindings\n});\n\npromiseFinally.shim();\n\nReactDOM.render((\n    <HashRouter>\n      <App />\n    </HashRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}